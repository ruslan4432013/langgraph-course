# ReAct Агент на LangGraph

Данный учебный пример демонстрирует реализацию архитектуры **ReAct** (Reasoning and Acting) с использованием библиотеки
**LangGraph**. Агент способен выполнять арифметические операции, последовательно вызывая необходимые инструменты.

## Архитектура графа

Ниже представлена схема графа, который управляет логикой работы агента:

![Схема графа](static/img.png)

### Как это работает:

1. **Узел `assistant`**: Принимает текущее состояние (список сообщений) и вызывает LLM. Если модели нужны инструменты
   для ответа, она генерирует `tool_calls`.
2. **Условный переход (`tools_condition`)**:
    - Если LLM запросила вызов инструментов, управление передается в узел `tools`.
    - Если LLM дала финальный ответ, работа графа завершается (`END`).
3. **Узел `tools`**: Выполняет функции (инструменты), запрошенные моделью, и возвращает результат в список сообщений.
4. **Цикл**: После выполнения инструментов управление всегда возвращается в `assistant`, чтобы модель могла
   проанализировать результат и решить, что делать дальше.

## Быстрый старт

### 1. Установка зависимостей

Убедитесь, что у вас установлен Python 3.10+.

```bash
pip install -r requirements.txt
```

### 2. Настройка окружения

Создайте файл `.env` в корневом каталоге и добавьте ваш API ключ:

```env
OPENAI_API_KEY=your_api_key_here
```

### 3. Запуск

Запустите основной скрипт для проверки работы агента:

```bash
python src/main.py
```

## Структура проекта

- `src/main.py` — реализация графа, инструментов и логики агента.
- `src/settings.py` — конфигурация приложения и загрузка переменных окружения.
- `static/img.png` — визуализация графа.
- `langgraph.json` — конфигурация для LangGraph Studio / Deployment.

## Инструменты агента

Агент имеет доступ к следующим функциям:

- `add(a, b)` — сложение.
- `multiply(a, b)` — умножение.
- `divide(a, b)` — деление.

Пример сложного запроса: *"Сложи 5 и 5. Умножь результат на 5. Раздели результат на 5"*. Агент выполнит эти действия
последовательно, сохраняя контекст вычислений.
