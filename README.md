# LangGraph Course

Этот проект представляет собой учебный курс по разработке интеллектуальных приложений с использованием **LangGraph**, *
*LangChain** и **OpenAI**. Основной упор сделан на создание RAG-систем (Retrieval-Augmented Generation) для работы с
веб-контентом.

## Основные возможности

- **Web RAG**: Загрузка и индексация данных с веб-страниц.
- **Интеллектуальный поиск**: Использование векторного хранилища FAISS для быстрого поиска релевантной информации.
- **Управление состоянием**: Использование LangGraph для построения сложных рабочих процессов в виде графов.
- **Анализ запросов**: Структурирование и классификация пользовательских запросов для повышения точности поиска.
- **Гибкая настройка**: Использование Pydantic Settings для управления конфигурацией через `.env` файлы.

## Структура проекта

- `src/applications/web_rag_app/` — основные приложения RAG.
    - `web_rag_app.py` — классическая RAG-система (Retrieve -> Generate).
    - `web_rag_app_with_analyze.py` — улучшенная RAG-система с этапом анализа запроса (Analyze -> Retrieve -> Generate).
- `src/components/` — переиспользуемые компоненты:
    - `llm_model.py` — настройка языковой модели (LLM).
    - `vector_store_client.py` — настройка векторного хранилища FAISS.
    - `embedding.py` — модель эмбеддингов.
- `src/settings.py` — конфигурация приложения и загрузка переменных окружения.
- `main.py` — точка входа для запуска демонстрационного примера.
- `langgraph.json` — конфигурация для интеграции с LangGraph CLI и LangGraph Cloud.

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone <repository_url>
   cd langgraph-course
   ```

2. **Установите зависимости:**
   Рекомендуется использовать виртуальное окружение.
   ```bash
   pip install -r requirements.txt
   ```

3. **Настройте переменные окружения:**
   Создайте файл `.env` в корневом каталоге и добавьте туда свои ключи API:
   ```env
   OPENAI_API_KEY=your_openai_api_key
   LANGSMITH_TRACING=true
   LANGSMITH_ENDPOINT="https://api.smith.langchain.com"
   LANGSMITH_API_KEY=your_langsmith_api_key
   LANGSMITH_PROJECT=your_project_name
   ```

## Запуск

Для запуска демонстрационного примера выполните:

```bash
python main.py
```

По умолчанию `main.py` запускает граф из `web_rag_app_with_analyze.py`, который:

1. Загружает статью о "Task Decomposition".
2. Анализирует ваш вопрос.
3. Ищет информацию в векторном хранилище FAISS.
4. Генерирует ответ на основе найденного контекста.

## Использование LangGraph CLI

Вы можете запустить локальный сервер разработки LangGraph для визуализации и тестирования графов:

```bash
langgraph dev
```

После запуска вы сможете открыть LangGraph Studio в браузере.
